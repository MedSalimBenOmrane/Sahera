<head>
  <title>Slide Navbar</title>
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">
</head>

<body>
  <div class="login-wrapper">
    <!-- image à gauche (desktop only) -->
<div class="side-slideshow" aria-label="Diaporama décor">
  
    <div class="slide-layer"
     [ngStyle]="{'--cap-pad':'10%'}"
    *ngFor="let src of slides; let i = index"
    [class.is-active]="i === currentSlide"
    [ngStyle]="{
      'background-image': 'url(' + src + ')',
      '-webkit-mask-image': 'url(' + src + ')',
      'mask-image': 'url(' + src + ')'
    }"
  >
    <div class="slide-caption" *ngIf="captions?.length">
      {{ captions[i] }}
    </div>
  </div>

</div>
  <div class="main">
    <!-- Checkbox invisible qui gère le toggle Inscription/Connexion -->
    <input type="checkbox" id="chk" aria-hidden="false" />

    <!-- ===== Partie Inscription (Signup) ===== -->
    <div class="signup">
      <!-- On lie le formGroup “signupForm” ici -->
      <form [formGroup]="signupForm" (ngSubmit)="onSignup()">
        <label class="titleInscription" for="chk" aria-hidden="false">Inscription</label>

        <input class="input"
          id="nom"
          type="text"
          formControlName="nom"
          placeholder="Nom"
          (blur)="onBlurField('nom')"
          [class.error-border]="isFieldInvalid('nom')"
        />

        <input class="input"
          id="prenom"
          type="text"
          formControlName="prenom"
          placeholder="Prénom"
          (blur)="onBlurField('prenom')"
          [class.error-border]="isFieldInvalid('prenom')"
        />

        <input class="input"
          id="emailSignup"
          type="email"
          formControlName="email"
          placeholder="Email"
          (blur)="onBlurField('email')"
          [class.error-border]="isFieldInvalid('email')"
        />

        <input class="input"
          id="passwordSignup"
          type="password"
          formControlName="password"
          placeholder="Password"
          (blur)="onBlurField('password')"
          [class.error-border]="isFieldInvalid('password')"
        />

        <input class="input"
          id="telephone"
          type="text"
          formControlName="telephone"
          placeholder="Téléphone"
          (blur)="onBlurField('telephone')"
          [class.error-border]="isFieldInvalid('telephone')"
        />

        <input 
          id="dateNaissance"
          type="date"
          formControlName="dateNaissance"
          placeholder="Date de naissance"
          (blur)="onBlurField('dateNaissance')"
          class="date"
          [class.error-border]="isFieldInvalid('dateNaissance')"
        />

        <div class="genre-container">
          <span class="genre-label">Genre :</span>
          <span
            class="genre-radio"
            [class.error-border]="isFieldInvalid('genre')"
          >
            <input class="input"
              type="radio"
              formControlName="genre"
              value="Homme"
              (change)="onBlurField('genre')"
            />
            Homme
          </span>
          <span
            class="genre-radio"
            [class.error-border]="isFieldInvalid('genre')"
          >
            <input class="input"
              type="radio"
              formControlName="genre"
              value="Femme"
              (change)="onBlurField('genre')"
            />
            Femme
          </span>
        </div>

        <input class="input"
          id="role"
          type="text"
          formControlName="role"
          placeholder="Rôle"
          (blur)="onBlurField('role')"
          [class.error-border]="isFieldInvalid('role')"
        />

        <button type="submit">S'inscrire</button>
      </form>
    </div>

    <!-- ===== Partie Connexion (Login) ===== -->
    <div class="login">
      <!-- On lie le formGroup “loginForm” ici -->
      <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
        <label class="titleConnexion" for="chk" aria-hidden="false">Connexion</label>

        <input class="input"
          id="emailLogin"
          type="email"
          formControlName="email"
          placeholder="Email"
          (blur)="onBlurLoginField('email')"
          [class.error-border]="isLoginFieldInvalid('email')"
        />

        <input class="input"
                  id="passwordLogin"
          type="password"
          formControlName="password"
          placeholder="Password"
          (blur)="onBlurLoginField('password')"
          [class.error-border]="isLoginFieldInvalid('password')"
        />
        <div class="form-check">
  <input
    class="form-check-input "
    type="checkbox"            
    id="isAdmin"
    formControlName="isAdmin"
  />
  <label class="form-check-label" for="isAdmin">
    Se connecter en tant qu’admin
  </label>
</div>




        <button type="submit">Se connecter</button>
        <div class="pwd">Mot de passe oublié ?</div>
        <div class="navbar-brand "><img src="assets/images/logo.png" alt="Brand Logo"></div>
      </form>
    </div>
  </div>
     
  </div>
</body>
 <dialog #dialog>
       <h1 class="title">Entrer le code envoyer sur votre boite mail</h1>
    <form id="otp-form">
      <input type="text" class="otp-input" maxlength="1">
      <input type="text" class="otp-input" maxlength="1">
      <input type="text" class="otp-input" maxlength="1">
      <input type="text" class="otp-input" maxlength="1">
      <input type="text" class="otp-input" maxlength="1">
    </form>
    <div class="row">
      <div class="col-6">
    <button id="verify-btn">Verifier mail</button>
    </div>
    <div class="col-6">
    <button id="verify-btn">Renvoyer code</button>
    </div>
    </div>
  

    <button id="x" aria-label="close" (click)="closeDialog()">❌</button>
  </dialog>
