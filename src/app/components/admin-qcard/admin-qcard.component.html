<div class="card custom-card">
  <div class="card-body child d-flex flex-column">
    <div class="top-row d-flex justify-content-between align-items-start mb-2">
      <div class="left-head d-flex flex-column">
        <h5 class="card-title mb-1 text-truncate">{{ title }}</h5>
       <ng-container *ngIf="isOpen() ; else badgeClosed">
    <span class="status-open"><mat-icon>lock_open</mat-icon> {{ 'card.status.open' | translate }} </span>
  </ng-container>
  <ng-template #badgeClosed>
    <span class="status-closed"> <mat-icon>lock</mat-icon> {{ 'card.status.closed' | translate }} </span>
  </ng-template>
      </div>

      <div class="dates text-end">
        <p class="small mb-1">{{ 'admin.card.openDate' | translate }} {{ publicationDate | date:'dd/MM/yyyy HH:mm' }}</p>
        <p class="small mb-0">{{ getBadgeText()}}</p>
      </div>
    </div>

    <p class="card-text description mb-3">
      {{ description }}
    </p>

    <div class="mt-auto bottom-row d-flex flex-column">
      
         
        <div class="actions d-flex">
        
          <button type="button" class="btn btn-sm btn-success" (click)="modify()">
            {{ 'admin.card.edit' | translate }} 
          </button>
          <button type="button" class="btn btn-sm btn-outline-danger" (click)="delete()">
            {{ 'admin.card.delete' | translate }} 
          </button>
          <button type="button" class="btn btn-sm btn-outline-primary" (click)="viewResponse()">
            {{ 'admin.card.viewResponses' | translate }} 
          </button>
        </div>
      
    </div>

  </div>
</div>
<dialog #editDialog>
  <h1>{{ 'admin.card.editDialogTitle' | translate }}</h1>

  <div class="row">
    <div class="col-5">{{ 'admin.card.title' | translate }}</div>
    <div class="col-7">
      <input
        type="text"
        class="input5"
        [(ngModel)]="editTitre"
      />
    </div>
  </div>

  <div class="row">
    <div class="col-5">{{ 'admin.card.description' | translate }}</div>
    <div class="col-7">
      <textarea
        class="input5 textarea-message"
        rows="3"
        [(ngModel)]="editDescription"
      ></textarea>
    </div>
  </div>
  <div class="row">
  <div class="col-5">{{ 'admin.card.open' | translate }}</div>
  <div class="col-7">
    <input
      type="date"
      class="input5"
      [(ngModel)]="editDateOuverture"
    />
  </div>
</div>
  <div class="row">
    <div class="col-5">{{ 'admin.card.close' | translate }}</div>
    <div class="col-7">
      <input
        type="date"
        class="input5"
        [(ngModel)]="editDateFermeture"
      />
    </div>
  </div>

  <div class="row justify-content-center mt-3">
    <button class="boton-elegante" (click)="applyEdit()">
      {{ 'generic.apply' | translate }}
    </button>
    
  </div>

  <button
    class="x"
    aria-label="close"
    (click)="closeEditDialog()"
  >Ã—</button>
</dialog>
