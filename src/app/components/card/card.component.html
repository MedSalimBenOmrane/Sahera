<div class="card custom-card">
  <div class="card-body child d-flex flex-column">
    <div class="top-row d-flex justify-content-between align-items-start mb-2">
      <div class="left-head d-flex flex-column">
        <h5 class="card-title mb-1 text-truncate">{{ title }}</h5>
       <ng-container *ngIf="isSessionOpen; else badgeClosed">
    <span class="status-open"><mat-icon>lock_open</mat-icon> {{ 'card.status.open' | translate }} </span>
  </ng-container>
  <ng-template #badgeClosed>
    <span class="status-closed"> <mat-icon>lock</mat-icon> {{ 'card.status.closed' | translate }} </span>
  </ng-template>
      </div>

      <div class="dates text-end">
        <p class="small mb-1">{{ 'card.published' | translate }} {{ publicationDate | date:'dd/MM/yyyy HH:mm' }}</p>
        <p class="small mb-0">{{ 'card.until' | translate }}{{ sessionCloseDate | date:'dd/MM/yyyy HH:mm' }}</p>
      </div>
    </div>

    <p class="card-text description mb-3">
      {{ description }}
    </p>

    <div class="mt-auto bottom-row d-flex flex-column">
      <div class="status mb-2" *ngIf="mode === 'mes-reponses'">
        <ng-container *ngIf="isAnswered; else notYet">
          <span class="text-success d-flex align-items-center">
             {{ 'card.completed' | translate }}
          </span>
        </ng-container>
        <ng-template #notYet>
          <span class="text-danger">
             {{ 'card.pending' | translate }}
          </span>
        </ng-template>
      </div>

      <div class="actions d-flex">
        <ng-container *ngIf="mode === 'mes-reponses'">

          <button type="button" class="btn btn-sm btn-outline-primary" (click)="onModify()">
            {{ 'card.modify' | translate }}
          </button>
        </ng-container>

        <ng-container *ngIf="mode === 'questionnaire'">
          <button type="button" class="btn btn-sm btn-success" (click)="onRespond()">
            {{ 'card.respond' | translate }}
          </button>
        </ng-container>
      </div>
    </div>

  </div>
</div>
